<%- include partials/header.ejs %>

<h1>Welcome <%= currentUser.username %></h1>

<h2>Profile</h2>
<figure class="image is-128x128">
  <img src=<%= currentUser.profilePicture %>>
</figure>
<div class="container form">
  <form action="/auth/signup" method="POST">
    <div class="field">
      <label class="label" for="username">Username</label>
      <p class="control has-icons-left has-icons-right">
        <input class="input" type="text" name="username" placeholder=<%= currentUser.username %>>
        <span class="icon is-small is-left">
          <i class="fas fa-user"></i>
        </span>
      </p>
    </div>
    <div class="field">
      <label class="label" for="homeCountry">Home country</label>
      <p class="control has-icons-left">
        <span class="select is-fullwidth">
          <select name="homeCountry">
            <option value="" disabled selected><%= currentUser.homeCountry %></option>
            <% countries.forEach((country) => { %>
            <option><%= country.name %></option>
            <% })%>
          </select>
        </span>
        <span class="icon is-small is-left">
          <i class="fas fa-globe-americas"></i>
        </span>
      </p>
    </div>
    <div class="field">
      <p class="control">
        <button class="button" type="submit">Save</button>
      </p>
    </div>
<form action="/profile/delete" method='POST'>
  <button type="submit">Delete</button>
</form>


<%- include('./partials/notifications.ejs') %>
